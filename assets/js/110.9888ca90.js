(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{186:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("YouTube",{attrs:{title:"Capturing Media on Mobile Devices",url:"https://www.youtube.com/embed/dbrez37HlJM"}}),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),s("p",[t._v("Here are the Error Codes for the capture.")]),t._v(" "),t._m(5),s("p",[t._v("On the "),s("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-media-capture/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reference page"),s("OutboundLink")],1),t._v(" you can find more information about the Media File object, the file Meta Data, and other configuration data.")]),t._v(" "),s("YouTube",{attrs:{title:"",url:""}}),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("Like all iOS 10+ apps that we create with Cordova, we need to make sure that we add the plist permissions. When working with Media Capture, we need to have permissions for the Camera, the Microphone, plus the Camera Roll.")]),t._v(" "),t._m(7),t._v(" "),t._m(8),s("p",[t._v("To learn about how to fix any read permission problems with the media-capture plugin running on Android "),s("router-link",{attrs:{to:"./../week9/android-permissions.html"}},[t._v("See Also")])],1),t._v(" "),t._m(9),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.html5rocks.com/en/tutorials/getusermedia/intro/",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML5Rocks Media Capture"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-media-capture/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cordova Media Capture Plugin Reference"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Media_Streams_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN Media Capture and Streams API"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN Media Stream Recording API"),s("OutboundLink")],1)]),t._v(" "),t._m(10),t._v(" "),s("p",[s("router-link",{attrs:{to:"./"}},[t._v("Back to Week 8 Module Home")])],1)],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"capturing-audio-and-video-in-the-browser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#capturing-audio-and-video-in-the-browser","aria-hidden":"true"}},[this._v("#")]),this._v(" Capturing Audio and Video in the Browser")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("This first tutorial explains how to use the "),a("code",[this._v('<input type="file" capture type="image/*,video/*,audio/*" />')]),this._v(" element on mobile devices to capture images, audio, and video content.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"cordova-media-capture-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cordova-media-capture-plugin","aria-hidden":"true"}},[this._v("#")]),this._v(" Cordova Media Capture Plugin")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Cordova has a "),a("code",[this._v("media-capture")]),this._v(" plugin that is specifically for capturing audio and video. The script for capturing either images, audio, or video is basically the same. Here is an example for capturing video.")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"deviceready"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// start video capture")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" opts "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" limit"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" duration"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" quality"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("//limit is ignored for iOS")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("//duration is in seconds")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("//quality is ignored for iOS. 1 means high quality. 0 means low quality")]),t._v("\n  navigator"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("device"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capture"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("captureVideo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ftw"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wtf"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" opts"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// capture callback")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("ftw")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mediaFiles"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" path"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" len "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mediaFiles"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" len"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{attrs:{class:"token operator"}},[t._v("++")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mediaFiles"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullPath"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("// do something with the file")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// capture error callback")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("wtf")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"Capture Error:"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("1 CaptureError.CAPTURE_INTERNAL_ERR - error in the capturing process\n2 CaptureError.CAPTURE_APPLICATION_BUSY - camera or mic in use already\n3 CaptureError.CAPTURE_INVALID_ARGUMENT - eg. limit: -1\n4 CaptureError.CAPTURE_NO_MEDIA_FILES - user cancels capture\n5 CaptureError.CAPTURE_PERMISSION_DENIED - user denied permission for the capture\n6 CaptureError.CAPTURE_NOT_SUPPORTED - device does not support the capturing\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"ios-permissions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ios-permissions","aria-hidden":"true"}},[this._v("#")]),this._v(" iOS Permissions")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("So, add this to the "),a("code",[this._v("config.xml")]),this._v(" file.")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("edit-config")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("target")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("NSCameraUsageDescription"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("file")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("*-Info.plist"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("mode")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("merge"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("need camera access to take pictures"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("edit-config")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("edit-config")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("target")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("NSMicrophoneUsageDescription"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("file")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("*-Info.plist"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("mode")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("merge"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("need microphone access to record sounds"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("edit-config")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("edit-config")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("target")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("NSPhotoLibraryUsageDescription"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("file")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("*-Info.plist"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("mode")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("merge"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("string")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("need to photo library access to get pictures from there"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("string")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("edit-config")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"references-and-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references-and-resources","aria-hidden":"true"}},[this._v("#")]),this._v(" References and Resources")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"return"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return","aria-hidden":"true"}},[this._v("#")]),this._v(" Return")])}],!1,null,null,null);e.options.__file="media-capture.md";a.default=e.exports}}]);