<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Steganography | MAD9022</title>
    <meta name="description" content="Cross-Platform App Development II">
    
    
    <link rel="preload" href="/mad9022-w19/assets/css/styles.41454ee1.css" as="style"><link rel="preload" href="/mad9022-w19/assets/js/app.41454ee1.js" as="script"><link rel="preload" href="/mad9022-w19/assets/js/45.e2172f70.js" as="script"><link rel="prefetch" href="/mad9022-w19/assets/css/11.styles.d1d0bc23.css"><link rel="prefetch" href="/mad9022-w19/assets/css/2.styles.50c0c95d.css"><link rel="prefetch" href="/mad9022-w19/assets/css/3.styles.75a33a02.css"><link rel="prefetch" href="/mad9022-w19/assets/css/4.styles.9b186081.css"><link rel="prefetch" href="/mad9022-w19/assets/css/5.styles.d720d12b.css"><link rel="prefetch" href="/mad9022-w19/assets/js/1.f3ac51dd.js"><link rel="prefetch" href="/mad9022-w19/assets/js/10.bfaf831a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/100.5a2f07bf.js"><link rel="prefetch" href="/mad9022-w19/assets/js/101.20b99668.js"><link rel="prefetch" href="/mad9022-w19/assets/js/102.6b0b57d0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/103.d4d127f9.js"><link rel="prefetch" href="/mad9022-w19/assets/js/104.379f5752.js"><link rel="prefetch" href="/mad9022-w19/assets/js/105.dc5026da.js"><link rel="prefetch" href="/mad9022-w19/assets/js/106.f2f81565.js"><link rel="prefetch" href="/mad9022-w19/assets/js/107.9ef2060c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/108.68a584be.js"><link rel="prefetch" href="/mad9022-w19/assets/js/109.fc887459.js"><link rel="prefetch" href="/mad9022-w19/assets/js/11.d1d0bc23.js"><link rel="prefetch" href="/mad9022-w19/assets/js/110.9888ca90.js"><link rel="prefetch" href="/mad9022-w19/assets/js/111.529b5195.js"><link rel="prefetch" href="/mad9022-w19/assets/js/112.c0e65e52.js"><link rel="prefetch" href="/mad9022-w19/assets/js/113.1b24d100.js"><link rel="prefetch" href="/mad9022-w19/assets/js/114.450077e3.js"><link rel="prefetch" href="/mad9022-w19/assets/js/115.0962e7b3.js"><link rel="prefetch" href="/mad9022-w19/assets/js/116.80343209.js"><link rel="prefetch" href="/mad9022-w19/assets/js/117.28d20708.js"><link rel="prefetch" href="/mad9022-w19/assets/js/118.e74c0443.js"><link rel="prefetch" href="/mad9022-w19/assets/js/119.40016a1d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/12.ab76b0bd.js"><link rel="prefetch" href="/mad9022-w19/assets/js/120.842cf0bd.js"><link rel="prefetch" href="/mad9022-w19/assets/js/121.6fa593a5.js"><link rel="prefetch" href="/mad9022-w19/assets/js/122.39055a61.js"><link rel="prefetch" href="/mad9022-w19/assets/js/13.fa2cca47.js"><link rel="prefetch" href="/mad9022-w19/assets/js/14.11d57462.js"><link rel="prefetch" href="/mad9022-w19/assets/js/15.7f7b62e1.js"><link rel="prefetch" href="/mad9022-w19/assets/js/16.1f434e79.js"><link rel="prefetch" href="/mad9022-w19/assets/js/17.341f564a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/18.b45827bb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/19.0fcd00e4.js"><link rel="prefetch" href="/mad9022-w19/assets/js/2.50c0c95d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/20.aedb17bc.js"><link rel="prefetch" href="/mad9022-w19/assets/js/21.d22dca94.js"><link rel="prefetch" href="/mad9022-w19/assets/js/22.4819435a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/23.6aae16b6.js"><link rel="prefetch" href="/mad9022-w19/assets/js/24.4873ca54.js"><link rel="prefetch" href="/mad9022-w19/assets/js/25.76a1627d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/26.bc4c279a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/27.eb1897ef.js"><link rel="prefetch" href="/mad9022-w19/assets/js/28.c0195e8a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/29.05b52044.js"><link rel="prefetch" href="/mad9022-w19/assets/js/3.75a33a02.js"><link rel="prefetch" href="/mad9022-w19/assets/js/30.edad0d75.js"><link rel="prefetch" href="/mad9022-w19/assets/js/31.39bcc518.js"><link rel="prefetch" href="/mad9022-w19/assets/js/32.e4f34273.js"><link rel="prefetch" href="/mad9022-w19/assets/js/33.fa19305b.js"><link rel="prefetch" href="/mad9022-w19/assets/js/34.ee009c6a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/35.4849b2d6.js"><link rel="prefetch" href="/mad9022-w19/assets/js/36.ce357d0d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/37.f41cd90d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/38.312b6743.js"><link rel="prefetch" href="/mad9022-w19/assets/js/39.9aa5c1ac.js"><link rel="prefetch" href="/mad9022-w19/assets/js/4.9b186081.js"><link rel="prefetch" href="/mad9022-w19/assets/js/40.830fc587.js"><link rel="prefetch" href="/mad9022-w19/assets/js/41.56bf3b7a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/42.73f8d4b1.js"><link rel="prefetch" href="/mad9022-w19/assets/js/43.98a6c1c8.js"><link rel="prefetch" href="/mad9022-w19/assets/js/44.3fb32089.js"><link rel="prefetch" href="/mad9022-w19/assets/js/46.a3014563.js"><link rel="prefetch" href="/mad9022-w19/assets/js/47.c0e20b50.js"><link rel="prefetch" href="/mad9022-w19/assets/js/48.51fe11b0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/49.30d655eb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/5.d720d12b.js"><link rel="prefetch" href="/mad9022-w19/assets/js/50.4ba7c331.js"><link rel="prefetch" href="/mad9022-w19/assets/js/51.3c1b266c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/52.1e4596e0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/53.1d3feae3.js"><link rel="prefetch" href="/mad9022-w19/assets/js/54.6b2f40cf.js"><link rel="prefetch" href="/mad9022-w19/assets/js/55.9c6bd9cb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/56.1082fd0e.js"><link rel="prefetch" href="/mad9022-w19/assets/js/57.cd051699.js"><link rel="prefetch" href="/mad9022-w19/assets/js/58.0959d73c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/59.96efe362.js"><link rel="prefetch" href="/mad9022-w19/assets/js/6.838d5a84.js"><link rel="prefetch" href="/mad9022-w19/assets/js/60.6bd0fd22.js"><link rel="prefetch" href="/mad9022-w19/assets/js/61.13a66fbb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/62.170d9996.js"><link rel="prefetch" href="/mad9022-w19/assets/js/63.881daa06.js"><link rel="prefetch" href="/mad9022-w19/assets/js/64.aab898a8.js"><link rel="prefetch" href="/mad9022-w19/assets/js/65.5664f45b.js"><link rel="prefetch" href="/mad9022-w19/assets/js/66.059a11d4.js"><link rel="prefetch" href="/mad9022-w19/assets/js/67.1f8b6d5a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/68.4f7da608.js"><link rel="prefetch" href="/mad9022-w19/assets/js/69.fbb52d02.js"><link rel="prefetch" href="/mad9022-w19/assets/js/7.43a1cfbb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/70.7fa3da3c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/71.795ceb35.js"><link rel="prefetch" href="/mad9022-w19/assets/js/72.1f6d56bf.js"><link rel="prefetch" href="/mad9022-w19/assets/js/73.0e0a654e.js"><link rel="prefetch" href="/mad9022-w19/assets/js/74.0e60e60a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/75.205be73d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/76.1ae1f030.js"><link rel="prefetch" href="/mad9022-w19/assets/js/77.e72c7226.js"><link rel="prefetch" href="/mad9022-w19/assets/js/78.0cb60cc8.js"><link rel="prefetch" href="/mad9022-w19/assets/js/79.37c81eb7.js"><link rel="prefetch" href="/mad9022-w19/assets/js/8.e0a990e7.js"><link rel="prefetch" href="/mad9022-w19/assets/js/80.cd013a30.js"><link rel="prefetch" href="/mad9022-w19/assets/js/81.7895e895.js"><link rel="prefetch" href="/mad9022-w19/assets/js/82.6a1e1da4.js"><link rel="prefetch" href="/mad9022-w19/assets/js/83.e9ff3b07.js"><link rel="prefetch" href="/mad9022-w19/assets/js/84.21b918c0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/85.b6427dea.js"><link rel="prefetch" href="/mad9022-w19/assets/js/86.f4c5c6f1.js"><link rel="prefetch" href="/mad9022-w19/assets/js/87.4f561d92.js"><link rel="prefetch" href="/mad9022-w19/assets/js/88.8d0daf32.js"><link rel="prefetch" href="/mad9022-w19/assets/js/89.890efde6.js"><link rel="prefetch" href="/mad9022-w19/assets/js/9.e9646124.js"><link rel="prefetch" href="/mad9022-w19/assets/js/90.928c223e.js"><link rel="prefetch" href="/mad9022-w19/assets/js/91.7fc7af62.js"><link rel="prefetch" href="/mad9022-w19/assets/js/92.f9849f8a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/93.213ee155.js"><link rel="prefetch" href="/mad9022-w19/assets/js/94.0b0dde70.js"><link rel="prefetch" href="/mad9022-w19/assets/js/95.e0261c96.js"><link rel="prefetch" href="/mad9022-w19/assets/js/96.008cf034.js"><link rel="prefetch" href="/mad9022-w19/assets/js/97.ca853c16.js"><link rel="prefetch" href="/mad9022-w19/assets/js/98.471bf6b2.js"><link rel="prefetch" href="/mad9022-w19/assets/js/99.aeb61123.js">
    <link rel="stylesheet" href="/mad9022-w19/assets/css/11.styles.d1d0bc23.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/2.styles.50c0c95d.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/3.styles.75a33a02.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/4.styles.9b186081.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/5.styles.d720d12b.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/styles.41454ee1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mad9022-w19/" class="home-link router-link-active"><!----> <span class="site-name">MAD9022</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mad9022-w19/overview/" class="nav-link">Overview</a></div><div class="nav-item"><a href="/mad9022-w19/assignments/" class="nav-link">Assignments</a></div><div class="nav-item"><a href="/mad9022-w19/resources/" class="nav-link">Resources</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mad9022-w19/overview/" class="nav-link">Overview</a></div><div class="nav-item"><a href="/mad9022-w19/assignments/" class="nav-link">Assignments</a></div><div class="nav-item"><a href="/mad9022-w19/resources/" class="nav-link">Resources</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Introduction</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/mad9022-w19/overview/" class="sidebar-link">Overview</a></li><li><a href="/mad9022-w19/overview/course-section-information.html" class="sidebar-link">Course Section Information (CSI)</a></li><li><a href="/mad9022-w19/overview/contacts.html" class="sidebar-link">Contacts</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Content Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Assignments</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="steganography"><a href="#steganography" aria-hidden="true" class="header-anchor">#</a> Steganography</h1> <p><strong>Steganography</strong> - is the practice of concealing a file, message, image, or video within another file, message, image, or video.</p> <p>The way we are going to achieve this is:</p> <ol><li>Take an image with a mobile device camera</li> <li>Place that image on an HTML <code>&lt;canvas&gt;</code></li> <li>Fetch the array of image pixel data with <code>context.getImageData()</code></li> <li>Start looking at the data starting a predetermined pixel number from the array.</li> <li>Select the 8-bit integer that represents the blue channel in the image.</li> <li>Either read or set the last (right-most) bit from that number.</li> <li>Repeat reading or setting the last blue channel bit in every pixel until we reach the end of the message we are reading or the end of our bits we need to insert into the image.</li></ol> <h2 id="things-we-need-to-know"><a href="#things-we-need-to-know" aria-hidden="true" class="header-anchor">#</a> Things we need to know</h2> <p>Every character in our message will be written as a two-byte integer. That is a number between 0 and 65535 in decimal or between 0 and 1111 1111 1111 1111 in binary.</p> <p>This means we will need to write 16 bits into the image for each character.</p> <p>That means we will use 16 pixels for each character in our message. This might sound like a lot of pixels. A 140 character tweet would need 2240 pixels. However, a small image that is only 200 pixels wide and 200 pixels high would contain 40,000 pixels. Our message would only use 5% of the pixels in that very small image.</p> <h2 id="reading-the-last-bit-from-an-integer"><a href="#reading-the-last-bit-from-an-integer" aria-hidden="true" class="header-anchor">#</a> Reading the last bit from an integer</h2> <p>If we were looping through the array of image pixel data from an image on a canvas, each number represents either the red, or green, or blue, or alpha value for a pixel. Here is how you could loop through each value in the array.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> imageData <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//width and height are the width and height of the area you want to read</span>
<span class="token comment">//typically this is the whole canvas.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//we are incrementing by 4 each time to move forward one pixel at a time</span>
  <span class="token keyword">let</span> red <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> green <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> blue <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> alpha <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If we wanted to start at the 20th pixel in the image then we would change the initial value for i to 4 * 20.</p> <p>So, the variable blue would contain the integer value representing that colour.</p> <p>If we wanted to read the last bit from that number we would use the bitwise AND operator. The variable blue will be a number between 0 and 255. (or 0000 0000 and 1111 1111 in binary).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> bit <span class="token operator">=</span> blue <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p>This will just look at the last bit and if it was a one then the result will be one. If the last bit is zero then the result will be zero.</p> <p>Here is an example showing the number 130 AND 1.</p> <div class="language- extra-class"><pre class="language-text"><code>1	0	0	0	0	0	1	0
0	0	0	0	0	0	0	1
0	0	0	0	0	0	0	0
</code></pre></div><p>The first row is 130. The second row is 1. AND them together and the result is zero.</p> <p>Repeat for the next blue channel integer.</p> <p>If you were reading the bits from a character, we take the 16-bit number representing the character's number and do an AND operation for each column.</p> <p>Remember that we can shift bits left and right? If I took a 16 bit value and shifted it over 15 places I would be left with a single bit. If I then AND that single bit with the number 1 my result will be either 1 or 0. That is exactly what I want. I shift the number a different number of positions to target each column in turn. AND each result with one to get the one or zero for that last column.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> character <span class="token operator">=</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> character<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//get the numeric 16-bit value of the character at position zero in the string.</span>
<span class="token keyword">let</span> firstCol <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;&gt;</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//16th column</span>
<span class="token keyword">let</span> secondCol <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;&gt;</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//15th column</span>
<span class="token keyword">let</span> thirdCol <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;&gt;</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">//and so on</span>
<span class="token keyword">let</span> fifteenthCol <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//2nd column</span>
<span class="token keyword">let</span> sixteenthCol <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//1st column</span>
Our example was creating a <span class="token keyword">new</span> <span class="token class-name">variable</span> <span class="token keyword">for</span> each bit<span class="token punctuation">.</span> In the real world we would just be doing <span class="token keyword">this</span> <span class="token keyword">in</span> a loop and adding each bit to an array that holds all the bits<span class="token punctuation">.</span>

<span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bitArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> char<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> char<span class="token operator">&lt;</span>message<span class="token punctuation">.</span>length<span class="token punctuation">;</span> char<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//once for each letter in the message</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> col<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">;</span> col<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> col<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//loop once for each bit in the character</span>
    <span class="token keyword">let</span> bit <span class="token operator">=</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;&gt;</span> col<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>
    bitArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> bit <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now we have array of ones and zeros that represent all the bits that would write out the message &quot;hello&quot;.</p> <h2 id="updating-the-last-bit-from-an-integer"><a href="#updating-the-last-bit-from-an-integer" aria-hidden="true" class="header-anchor">#</a> Updating the last bit from an integer</h2> <p>The process for writing to the last bit is very similar. We will have our array of ones and zeros. One at a time we will loop through our array of bits and insert a single bit into our blue channel number.</p> <p>Let's say we have an array of integers representing the blue channel values from our image. We also have an array of bits that represent the letter &quot;A&quot; which we want to embed in the image blue channel data.</p> <p>We will use the bitwise shift right to remove the last bit. Then shift it back to the left. Now we know that the last digit will always be zero. Then do a bitwise OR with the bit value from our array.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> blues <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token number">128</span><span class="token punctuation">,</span>
  <span class="token number">54</span><span class="token punctuation">,</span>
  <span class="token number">250</span><span class="token punctuation">,</span>
  <span class="token number">251</span><span class="token punctuation">,</span>
  <span class="token number">230</span><span class="token punctuation">,</span>
  <span class="token number">190</span><span class="token punctuation">,</span>
  <span class="token number">34</span><span class="token punctuation">,</span>
  <span class="token number">35</span><span class="token punctuation">,</span>
  <span class="token number">36</span><span class="token punctuation">,</span>
  <span class="token number">65</span><span class="token punctuation">,</span>
  <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token number">77</span><span class="token punctuation">,</span>
  <span class="token number">78</span><span class="token punctuation">,</span>
  <span class="token number">79</span><span class="token punctuation">,</span>
  <span class="token number">45</span><span class="token punctuation">,</span>
  <span class="token number">33</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newblues <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bitArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//number 65</span>
<span class="token keyword">let</span> currentBit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> b <span class="token operator">&lt;</span> blues<span class="token punctuation">.</span>length<span class="token punctuation">;</span> b<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//loop once for each blue value</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> blues<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> right <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
  newblues<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>left <span class="token operator">|</span> bitArray<span class="token punctuation">[</span>currentBit<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  currentBit<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Some of the bits in the numbers that previously ended in ones will now end in zeros. Others that previously ended in zeros will now end in ones. Other bits are not affected.</p> <p>See this codepen to see the code samples from here in action - <a href="http://codepen.io/mad-d/pen/e9e41b8d414b94fa1be071888b94c520" target="_blank" rel="noopener noreferrer">http://codepen.io/mad-d/pen/e9e41b8d414b94fa1be071888b94c520<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="return"><a href="#return" aria-hidden="true" class="header-anchor">#</a> Return</h2> <p><a href="/mad9022-w19/modules/week12/" class="router-link-active">Back to Week 12 Module Home</a></p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: : </span> <span class="time">3/17/2019, 11:18:23 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/mad9022-w19/assets/js/45.e2172f70.js" defer></script><script src="/mad9022-w19/assets/js/app.41454ee1.js" defer></script>
  </body>
</html>
