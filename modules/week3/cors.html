<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cross-Origin Resource Sharing (CORS) | MAD9022</title>
    <meta name="description" content="Cross-Platform App Development II">
    
    
    <link rel="preload" href="/mad9022-w19/assets/css/styles.41454ee1.css" as="style"><link rel="preload" href="/mad9022-w19/assets/js/app.41454ee1.js" as="script"><link rel="preload" href="/mad9022-w19/assets/js/67.1f8b6d5a.js" as="script"><link rel="prefetch" href="/mad9022-w19/assets/css/11.styles.d1d0bc23.css"><link rel="prefetch" href="/mad9022-w19/assets/css/2.styles.50c0c95d.css"><link rel="prefetch" href="/mad9022-w19/assets/css/3.styles.75a33a02.css"><link rel="prefetch" href="/mad9022-w19/assets/css/4.styles.9b186081.css"><link rel="prefetch" href="/mad9022-w19/assets/css/5.styles.d720d12b.css"><link rel="prefetch" href="/mad9022-w19/assets/js/1.f3ac51dd.js"><link rel="prefetch" href="/mad9022-w19/assets/js/10.bfaf831a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/100.5a2f07bf.js"><link rel="prefetch" href="/mad9022-w19/assets/js/101.20b99668.js"><link rel="prefetch" href="/mad9022-w19/assets/js/102.6b0b57d0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/103.d4d127f9.js"><link rel="prefetch" href="/mad9022-w19/assets/js/104.379f5752.js"><link rel="prefetch" href="/mad9022-w19/assets/js/105.dc5026da.js"><link rel="prefetch" href="/mad9022-w19/assets/js/106.f2f81565.js"><link rel="prefetch" href="/mad9022-w19/assets/js/107.9ef2060c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/108.68a584be.js"><link rel="prefetch" href="/mad9022-w19/assets/js/109.fc887459.js"><link rel="prefetch" href="/mad9022-w19/assets/js/11.d1d0bc23.js"><link rel="prefetch" href="/mad9022-w19/assets/js/110.9888ca90.js"><link rel="prefetch" href="/mad9022-w19/assets/js/111.529b5195.js"><link rel="prefetch" href="/mad9022-w19/assets/js/112.c0e65e52.js"><link rel="prefetch" href="/mad9022-w19/assets/js/113.1b24d100.js"><link rel="prefetch" href="/mad9022-w19/assets/js/114.450077e3.js"><link rel="prefetch" href="/mad9022-w19/assets/js/115.0962e7b3.js"><link rel="prefetch" href="/mad9022-w19/assets/js/116.80343209.js"><link rel="prefetch" href="/mad9022-w19/assets/js/117.28d20708.js"><link rel="prefetch" href="/mad9022-w19/assets/js/118.e74c0443.js"><link rel="prefetch" href="/mad9022-w19/assets/js/119.40016a1d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/12.ab76b0bd.js"><link rel="prefetch" href="/mad9022-w19/assets/js/120.842cf0bd.js"><link rel="prefetch" href="/mad9022-w19/assets/js/121.6fa593a5.js"><link rel="prefetch" href="/mad9022-w19/assets/js/122.39055a61.js"><link rel="prefetch" href="/mad9022-w19/assets/js/13.fa2cca47.js"><link rel="prefetch" href="/mad9022-w19/assets/js/14.11d57462.js"><link rel="prefetch" href="/mad9022-w19/assets/js/15.7f7b62e1.js"><link rel="prefetch" href="/mad9022-w19/assets/js/16.1f434e79.js"><link rel="prefetch" href="/mad9022-w19/assets/js/17.341f564a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/18.b45827bb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/19.0fcd00e4.js"><link rel="prefetch" href="/mad9022-w19/assets/js/2.50c0c95d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/20.aedb17bc.js"><link rel="prefetch" href="/mad9022-w19/assets/js/21.d22dca94.js"><link rel="prefetch" href="/mad9022-w19/assets/js/22.4819435a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/23.6aae16b6.js"><link rel="prefetch" href="/mad9022-w19/assets/js/24.4873ca54.js"><link rel="prefetch" href="/mad9022-w19/assets/js/25.76a1627d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/26.bc4c279a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/27.eb1897ef.js"><link rel="prefetch" href="/mad9022-w19/assets/js/28.c0195e8a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/29.05b52044.js"><link rel="prefetch" href="/mad9022-w19/assets/js/3.75a33a02.js"><link rel="prefetch" href="/mad9022-w19/assets/js/30.edad0d75.js"><link rel="prefetch" href="/mad9022-w19/assets/js/31.39bcc518.js"><link rel="prefetch" href="/mad9022-w19/assets/js/32.e4f34273.js"><link rel="prefetch" href="/mad9022-w19/assets/js/33.fa19305b.js"><link rel="prefetch" href="/mad9022-w19/assets/js/34.ee009c6a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/35.4849b2d6.js"><link rel="prefetch" href="/mad9022-w19/assets/js/36.ce357d0d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/37.f41cd90d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/38.312b6743.js"><link rel="prefetch" href="/mad9022-w19/assets/js/39.9aa5c1ac.js"><link rel="prefetch" href="/mad9022-w19/assets/js/4.9b186081.js"><link rel="prefetch" href="/mad9022-w19/assets/js/40.830fc587.js"><link rel="prefetch" href="/mad9022-w19/assets/js/41.56bf3b7a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/42.73f8d4b1.js"><link rel="prefetch" href="/mad9022-w19/assets/js/43.98a6c1c8.js"><link rel="prefetch" href="/mad9022-w19/assets/js/44.3fb32089.js"><link rel="prefetch" href="/mad9022-w19/assets/js/45.e2172f70.js"><link rel="prefetch" href="/mad9022-w19/assets/js/46.a3014563.js"><link rel="prefetch" href="/mad9022-w19/assets/js/47.c0e20b50.js"><link rel="prefetch" href="/mad9022-w19/assets/js/48.51fe11b0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/49.30d655eb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/5.d720d12b.js"><link rel="prefetch" href="/mad9022-w19/assets/js/50.4ba7c331.js"><link rel="prefetch" href="/mad9022-w19/assets/js/51.3c1b266c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/52.1e4596e0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/53.1d3feae3.js"><link rel="prefetch" href="/mad9022-w19/assets/js/54.6b2f40cf.js"><link rel="prefetch" href="/mad9022-w19/assets/js/55.9c6bd9cb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/56.1082fd0e.js"><link rel="prefetch" href="/mad9022-w19/assets/js/57.cd051699.js"><link rel="prefetch" href="/mad9022-w19/assets/js/58.0959d73c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/59.96efe362.js"><link rel="prefetch" href="/mad9022-w19/assets/js/6.838d5a84.js"><link rel="prefetch" href="/mad9022-w19/assets/js/60.6bd0fd22.js"><link rel="prefetch" href="/mad9022-w19/assets/js/61.13a66fbb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/62.170d9996.js"><link rel="prefetch" href="/mad9022-w19/assets/js/63.881daa06.js"><link rel="prefetch" href="/mad9022-w19/assets/js/64.aab898a8.js"><link rel="prefetch" href="/mad9022-w19/assets/js/65.5664f45b.js"><link rel="prefetch" href="/mad9022-w19/assets/js/66.059a11d4.js"><link rel="prefetch" href="/mad9022-w19/assets/js/68.4f7da608.js"><link rel="prefetch" href="/mad9022-w19/assets/js/69.fbb52d02.js"><link rel="prefetch" href="/mad9022-w19/assets/js/7.43a1cfbb.js"><link rel="prefetch" href="/mad9022-w19/assets/js/70.7fa3da3c.js"><link rel="prefetch" href="/mad9022-w19/assets/js/71.795ceb35.js"><link rel="prefetch" href="/mad9022-w19/assets/js/72.1f6d56bf.js"><link rel="prefetch" href="/mad9022-w19/assets/js/73.0e0a654e.js"><link rel="prefetch" href="/mad9022-w19/assets/js/74.0e60e60a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/75.205be73d.js"><link rel="prefetch" href="/mad9022-w19/assets/js/76.1ae1f030.js"><link rel="prefetch" href="/mad9022-w19/assets/js/77.e72c7226.js"><link rel="prefetch" href="/mad9022-w19/assets/js/78.0cb60cc8.js"><link rel="prefetch" href="/mad9022-w19/assets/js/79.37c81eb7.js"><link rel="prefetch" href="/mad9022-w19/assets/js/8.e0a990e7.js"><link rel="prefetch" href="/mad9022-w19/assets/js/80.cd013a30.js"><link rel="prefetch" href="/mad9022-w19/assets/js/81.7895e895.js"><link rel="prefetch" href="/mad9022-w19/assets/js/82.6a1e1da4.js"><link rel="prefetch" href="/mad9022-w19/assets/js/83.e9ff3b07.js"><link rel="prefetch" href="/mad9022-w19/assets/js/84.21b918c0.js"><link rel="prefetch" href="/mad9022-w19/assets/js/85.b6427dea.js"><link rel="prefetch" href="/mad9022-w19/assets/js/86.f4c5c6f1.js"><link rel="prefetch" href="/mad9022-w19/assets/js/87.4f561d92.js"><link rel="prefetch" href="/mad9022-w19/assets/js/88.8d0daf32.js"><link rel="prefetch" href="/mad9022-w19/assets/js/89.890efde6.js"><link rel="prefetch" href="/mad9022-w19/assets/js/9.e9646124.js"><link rel="prefetch" href="/mad9022-w19/assets/js/90.928c223e.js"><link rel="prefetch" href="/mad9022-w19/assets/js/91.7fc7af62.js"><link rel="prefetch" href="/mad9022-w19/assets/js/92.f9849f8a.js"><link rel="prefetch" href="/mad9022-w19/assets/js/93.213ee155.js"><link rel="prefetch" href="/mad9022-w19/assets/js/94.0b0dde70.js"><link rel="prefetch" href="/mad9022-w19/assets/js/95.e0261c96.js"><link rel="prefetch" href="/mad9022-w19/assets/js/96.008cf034.js"><link rel="prefetch" href="/mad9022-w19/assets/js/97.ca853c16.js"><link rel="prefetch" href="/mad9022-w19/assets/js/98.471bf6b2.js"><link rel="prefetch" href="/mad9022-w19/assets/js/99.aeb61123.js">
    <link rel="stylesheet" href="/mad9022-w19/assets/css/11.styles.d1d0bc23.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/2.styles.50c0c95d.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/3.styles.75a33a02.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/4.styles.9b186081.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/5.styles.d720d12b.css"><link rel="stylesheet" href="/mad9022-w19/assets/css/styles.41454ee1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mad9022-w19/" class="home-link router-link-active"><!----> <span class="site-name">MAD9022</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mad9022-w19/overview/" class="nav-link">Overview</a></div><div class="nav-item"><a href="/mad9022-w19/assignments/" class="nav-link">Assignments</a></div><div class="nav-item"><a href="/mad9022-w19/resources/" class="nav-link">Resources</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mad9022-w19/overview/" class="nav-link">Overview</a></div><div class="nav-item"><a href="/mad9022-w19/assignments/" class="nav-link">Assignments</a></div><div class="nav-item"><a href="/mad9022-w19/resources/" class="nav-link">Resources</a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Introduction</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/mad9022-w19/overview/" class="sidebar-link">Overview</a></li><li><a href="/mad9022-w19/overview/course-section-information.html" class="sidebar-link">Course Section Information (CSI)</a></li><li><a href="/mad9022-w19/overview/contacts.html" class="sidebar-link">Contacts</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Content Modules</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Assignments</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="cross-origin-resource-sharing-cors"><a href="#cross-origin-resource-sharing-cors" aria-hidden="true" class="header-anchor">#</a> Cross-Origin Resource Sharing (CORS)</h1> <h2 id="cors"><a href="#cors" aria-hidden="true" class="header-anchor">#</a> CORS</h2> <p>CORS stands for Cross-Origin Resource Sharing. It refers to the process by which the browser can make HTTP Requests to load an HTML file from one domain and then other things like images, fonts, stylesheets, and scripts from different domains.</p> <p>If the browser is making the request based on what it read in an HTML or CSS file then this can be done freely.</p> <p>If the cross-domain request is coming from some JavaScript code then there are restrictions in place.</p> <p>JavaScript can use the Fetch API or XMLHttpRequest objects to make requests for resources like XML, JSON, text, images, stylesheets, fonts, videos, audio files, etc. However, we have to follow a restrictive list of rules to be able to make those requests.</p> <h2 id="headers"><a href="#headers" aria-hidden="true" class="header-anchor">#</a> Headers</h2> <p>When you configure the <code>fetch( )</code> call with the Request and Headers objects you can only use the following:</p> <p>Method can only be <code>GET</code>, <code>HEAD</code>, or <code>POST</code></p> <p>The only headers that can be set are: <code>Accept</code>, <code>Content-Type</code>, <code>Accept-Language</code>, and <code>Content-Language</code>. No other headers can be altered for a CORS request.</p> <p>Accept tells the server what types of files you are willing to accept as a response. <code>Content-type</code> tells the server what type of file you are sending. The only three values allowed for Content-Type are <code>text/plain</code>, <code>multipart/form-data</code>, or <code>x-www-form-urlencoded</code>.</p> <h2 id="mode"><a href="#mode" aria-hidden="true" class="header-anchor">#</a> Mode</h2> <p>When using the Fetch API we can set the CORS mode for the request. Basically we are going to tell the server that we do or do not want to make a cross-domain request.</p> <p>Inside our Request options we define the mode like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  method<span class="token punctuation">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;cors&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>The mode can be <code>cors</code>, <code>same-origin</code>, or <code>no-cors</code>. If we set it to <code>cors</code> then we are telling the browser to look for the proper permissions to come back from the remote webserver telling us that CORS is allowed. If we set it to <code>same-origin</code> then we are telling the browser that it should prevent the JavaScript from making calls to any domain except the one where the HTML came from. <code>no-cors</code> tries to make an opaque attempt to get external sources but does not currently work within the global scope of the page.</p> <h2 id="behind-the-scenes"><a href="#behind-the-scenes" aria-hidden="true" class="header-anchor">#</a> Behind the Scenes</h2> <p>When you make a CORS AJAX call from your JavaScript code there are actually two requests being made. An initial request called a pre-flight request gets sent from the browser to the server. This request includes a header providing the domain from which the request is being made.</p> <p>For the communication between the server and the browser to finish properly, the server needs to respond to the initial preflight request with a Response that includes a header called <code>Access-Control-Allow-Origin</code>. The value for this header must match exactly your URL or be set to a wildcard.</p> <p>With Apache, we can create a settings file called <code>.htaccess</code> and inside that file add this line:</p> <div class="language- extra-class"><pre class="language-text"><code>Header set Access-Control-Allow-Origin &quot;*&quot;
</code></pre></div><p>This will create the required header to allow for cross origin requests.</p> <p>The <code>.htaccess</code> file must be in the folder or a parent folder for the resource being requested.</p> <h2 id="what-gets-restricted"><a href="#what-gets-restricted" aria-hidden="true" class="header-anchor">#</a> What Gets Restricted</h2> <p>There are actually quite a few things that can get restricted when requesting resources over CORS. For our immediate purposes, it is important to note that a webpage making a request from edumedia.ca to darksky.net would not be allowed to use the JSON data.</p> <p>If you set the mode to <code>same-origin</code> or <code>no-cors</code> then the request would be entirely rejected.</p> <p>If you set the mode to <code>cors</code> then the request would be sent and the JSON data returned but we would not be allowed to use the data in our JavaScript.</p> <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener noreferrer">MDN CORS reference<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="return"><a href="#return" aria-hidden="true" class="header-anchor">#</a> Return</h2> <p><a href="/mad9022-w19/modules/week3/" class="router-link-active">Back to Week 3 Module Home</a></p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: : </span> <span class="time">3/15/2019, 7:48:53 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/mad9022-w19/assets/js/67.1f8b6d5a.js" defer></script><script src="/mad9022-w19/assets/js/app.41454ee1.js" defer></script>
  </body>
</html>
